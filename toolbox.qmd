# Toolbox {#toolbox}

## Getting familiar with tours

```{r}
#| echo: false
library(mulgar)
library(ggplot2)
data("simple_clusters")

s_p <- ggplot(simple_clusters, aes(x=x1, y=x2)) +
  geom_point() +
  geom_abline(intercept=0, slope=1) +
  annotate("text", x=2.0, y=2.2, label="(0.707, 0.707)", angle=45) +
  annotate("text", x=2.2, y=2.0, label="most clustered", angle=45) +
  geom_abline(intercept=0, slope=-1) +
  annotate("text", x=-1.6, y=1.8, label="(-0.707, 0.707)", angle=-45) +
  annotate("text", x=-1.8, y=1.6, label="no clusters", angle=-45) +
  geom_abline(intercept=0, slope=0) +
  annotate("text", x=-1.6, y=0.15, label="(1, 0)") +
  annotate("text", x=-1.6, y=-0.1, label="some clustering") +
  xlim(-2, 2.5) + ylim(-2, 2.5) +
  theme_minimal() +
  theme(aspect.ratio=1)
```

```{r}
#| echo: false
#| eval: false
library(tourr)

explain_t1 <- save_history(simple_clusters[,1:2],
                           grand_tour(d=1),
                           max_bases=5)
explain_t1[,,2] <- matrix(c(1/sqrt(2), 1/sqrt(2)),
                          ncol=1)
explain_t1[,,3] <- matrix(c(0, 1),
                          ncol=1)
explain_t1[,,4] <- matrix(c(-1/sqrt(2), 1/sqrt(2)),
                          ncol=1)
explain_t1[,,5] <- matrix(c(-1, 0),
                          ncol=1)

animate_dist(simple_clusters[,1:2],
             planned_tour(explain_t1),
             method="histogram")
render_gif(simple_clusters[,1:2], 
           planned_tour(explain_t1),
           display_dist(method="histogram", 
                        density_max = 2),
           gif_file = "gifs/explain_1d.gif",
           apf = 1/100,
           frames = 1000,
           width = 400, 
           height = 300,
           loop = FALSE)

animate_dist(simple_clusters[,1:2], 
             little_tour(d=1),
             method="histogram")

```

::: {#fig-explain-1D layout-ncol=2}

```{r}
#| echo: false
#| label: fig-explain-1D-data
#| fig-cap: 2D data
#| fig-width: 5
#| fig-height: 5
s_p
```

![1D grand tour](gifs/explain_1d.gif){#fig-explain-1D-tour fig-alt=""}


To illustrate how a tour can be used to explore high-dimensional data using 2D data (a) and a tour of 1D projections (b). Imagine spinning a line around the centre of the data plot, and at each spot all of the points are projected onto the line. The distribution of points will be different for different angles. 
:::

@fig-explain-1D illustrates a tour for 2D data and 1D projections. The (grand) tour will generate all possible 1D projections of the data, and display with a univariate plot like a histogram or density plot. For this data, the `simple_clusters` data, depending on the projection the distribution might be clustered into two groups, bimodal or unimodal (with no clusters). In this example, all projections are generated by rotating a line around the centre of the plot.

3D example next

<!-- 
Description and explanation of primary methods used throughout the book. Mostly focusing on tour methods.

We need a really nice friendly introduction to tour methods:

- 2D to 1D projections as basic explanation
- maybe 3D to 2D, or even 4D to 2D illustration
-->

## What can you learn?


<!-- Show examples of what can be gained from looking at combinations as opposed to pairs plots, for example. Clusters is a good situation, but also collinearity and outliers
-->

## Using tours in the `tourr` package


- install
- starting a tour


Working with many dimensions, how to adapt 

Grand tour, and show paths on the space, starting with 1D. How more time gives more coverage of the sphere. Then the torus and paths on torus.

Different types of tours, and when to use them.

And finally how to save tours, and make plot of single projection

Need to include
- half_range
- standardizing variables

## What not to do

Explain data needed for input, what happens if discrete data is included, or time series 

## Tours in other software

Also include other software now available

- detourr
- langevitour
- woylier
- spinifex
